<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <nav class="bg-gray-800 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-8">
                    <a href="admin.html" class="text-2xl font-black text-purple-400">TI Admin</a>
                    <div class="hidden md:flex space-x-6">
                        <a href="admin.html" class="text-gray-300 hover:text-white transition">–ü–∞–Ω–µ–ª—å</a>
                        <a href="admin-users.html" class="text-white hover:text-purple-400 transition">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
                        <a href="admin-orders.html" class="text-gray-300 hover:text-white transition">–ó–∞–∫–∞–∑—ã</a>
                    </div>
                </div>
                <button id="logout-btn" class="px-6 py-2 bg-red-600 rounded-lg hover:bg-red-700 transition font-semibold">
                    –í—ã—Ö–æ–¥
                </button>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-6 py-8">
        <h1 class="text-3xl font-black mb-8">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h1>

        <!-- –ü–æ–∏—Å–∫ -->
        <div class="bg-gray-800 p-4 rounded-lg mb-6 border border-gray-700">
            <input 
                type="text" 
                id="search-input"
                placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email..."
                class="w-full px-4 py-2 bg-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
            >
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="users-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <div class="text-gray-400 text-center py-8 col-span-full">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
    <div id="password-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50">
        <div class="bg-gray-800 p-6 rounded-lg border border-gray-700 w-full max-w-md">
            <h2 class="text-2xl font-bold mb-4">üîê –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
            
            <div id="modal-user-info" class="bg-gray-700 p-3 rounded mb-4 text-sm">
                <div id="modal-user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div id="modal-user-email" class="text-gray-400">-</div>
            </div>

            <div id="modal-error" class="hidden bg-red-900 border border-red-700 text-red-200 p-3 rounded mb-4 text-sm"></div>

            <form id="modal-password-form" class="space-y-4">
                <div>
                    <label class="block text-gray-400 mb-2">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input 
                        type="password" 
                        id="modal-new-password"
                        class="w-full px-4 py-2 bg-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
                        placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤"
                        required
                    >
                </div>

                <div>
                    <label class="block text-gray-400 mb-2">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input 
                        type="password" 
                        id="modal-confirm-password"
                        class="w-full px-4 py-2 bg-gray-700 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
                        placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                        required
                    >
                </div>

                <p class="text-gray-400 text-sm">‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>

                <div class="flex gap-2">
                    <button 
                        type="submit"
                        class="flex-1 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded transition font-semibold"
                    >
                        ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å
                    </button>
                    <button 
                        type="button"
                        id="modal-cancel-btn"
                        class="flex-1 bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded transition font-semibold"
                    >
                        ‚ùå –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </form>
        </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏ -->
        <div id="avatar-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50">
            <div class="bg-gray-800 p-4 rounded-lg border border-gray-700 w-full max-w-3xl">
                <div class="flex justify-end">
                    <button id="avatar-modal-close" class="px-3 py-1 bg-gray-700 rounded text-sm hover:bg-gray-600">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div class="mt-2 flex justify-center">
                    <img id="avatar-modal-img" src="" alt="Avatar" class="max-w-full max-h-[70vh] rounded" />
                </div>
            </div>
        </div>

        <script type="module">
        console.log('–ó–∞–≥—Ä—É–∑–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...');
        
        try {
            console.log('[Users] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ admin.js...');
            const adminModule = await import('./admin.js');
            console.log('[Users] admin.js –∑–∞–≥—Ä—É–∂–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏:', Object.keys(adminModule));
            const { isAdmin, getAllUsers, deleteUser } = adminModule;
            console.log('[Users] ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', { isAdmin: typeof isAdmin, getAllUsers: typeof getAllUsers, deleteUser: typeof deleteUser });
            const { onAuthChange, logoutUser } = await import('./auth.js');

            let allUsers = {};

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
            onAuthChange(async (user) => {
                console.log('[Users] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user?.email);
                
                if (!user) {
                    console.log('[Users] –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –ª–æ–≥–∏–Ω');
                    window.location.href = 'login.html';
                    return;
                }

                console.log('[Users] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞...');
                const admin = await isAdmin(user.uid);
                console.log('[Users] –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –∞–¥–º–∏–Ω–æ–º:', admin);
                
                if (!admin) {
                    console.log('[Users] –ù–µ –∞–¥–º–∏–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å');
                    window.location.href = 'profile.html';
                    return;
                }

                console.log('[Users] ‚úÖ –ê–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π');
                // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                const result = await getAllUsers();
                console.log('[Users] –†–µ–∑—É–ª—å—Ç–∞—Ç getAllUsers:', result);
                
                if (result.success) {
                    allUsers = result.data || {};
                    console.log('[Users] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', Object.keys(allUsers).length);
                    renderUsers(allUsers);
                } else {
                    console.error('[Users] –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', result.error);
                    document.getElementById('users-container').innerHTML = 
                        '<div class="text-red-400 text-center py-8 col-span-full">‚ùå –û—à–∏–±–∫–∞: ' + result.error + '</div>';
                }
            });

            // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            function renderUsers(users) {
                const container = document.getElementById('users-container');
                const usersList = Object.entries(users);
                
                console.log('[Users] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', usersList.length);

                if (usersList.length === 0) {
                    container.innerHTML = '<div class="text-gray-400 text-center py-8 col-span-full">–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>';
                    return;
                }

                container.innerHTML = usersList.map(([userId, user]) => `
                    <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                        <div class="flex items-center mb-3">
                            <div class="user-avatar mr-3 cursor-pointer" data-avatar="${user.avatar || ''}" title="${user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}">
                                ${user.avatar && user.avatar.indexOf('data:image') === 0 ? ('<img src="' + user.avatar + '" alt="' + (user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å') + '" class="w-10 h-10 rounded-full object-cover">') : ('<div class="w-10 h-10 ' + (user.role === 'admin' ? 'bg-yellow-600' : 'bg-purple-600') + ' rounded-full flex items-center justify-center text-lg">' + (user.avatar && user.avatar !== 'üë§' ? user.avatar : (user.role === 'admin' ? 'üëë' : 'üë§')) + '</div>')}
                            </div>
                            <div class="flex-1">
                                <div class="font-bold text-sm">${user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</div>
                                <div class="text-gray-400 text-xs">${user.email || '-'}</div>
                            </div>
                        </div>
                        <div class="text-gray-400 text-xs space-y-1 mb-3 bg-gray-700 p-2 rounded">
                            <div>
                                <span class="text-gray-400">üîë UID:</span>
                                <span class="font-mono ml-1">${userId}</span>
                            </div>
                            <div>
                                <span class="text-gray-400">üìÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</span>
                                <span class="ml-1">${user.createdAt ? new Date(user.createdAt).toLocaleString('ru-RU') : '-'}</span>
                            </div>
                            <div>
                                <span class="text-gray-400">üé≠ –°—Ç–∞—Ç—É—Å:</span>
                                <span class="text-${user.role === 'admin' ? 'yellow' : 'purple'}-400 font-semibold ml-1">
                                    ${user.role === 'admin' ? 'üëë –ê–¥–º–∏–Ω' : 'üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}
                                </span>
                            </div>
                        </div>
                        <div class="space-y-2">
                            ${user.role !== 'admin' ? `
                                <button 
                                    class="change-password-btn w-full bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm transition"
                                    data-user-id="${userId}"
                                    data-user-email="${user.email}"
                                    data-user-name="${user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}"
                                >
                                    üîê –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                                </button>
                                <button 
                                    class="delete-user-btn w-full bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition"
                                    data-user-id="${userId}"
                                    data-user-email="${user.email}"
                                >
                                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                </button>
                            ` : `
                                <div class="w-full bg-yellow-900 px-3 py-1 rounded text-sm text-center text-yellow-300">
                                    ‚ö†Ô∏è –ê–¥–º–∏–Ω (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω)
                                </div>
                            `}
                        </div>
                    </div>
                `).join('');

                // –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
                document.querySelectorAll('.delete-user-btn').forEach(btn => {
                    btn.addEventListener('click', async (e) => {
                        const userId = e.target.getAttribute('data-user-id');
                        const userEmail = e.target.getAttribute('data-user-email');

                        if (!confirm(`–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userEmail}?\n–≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞!`)) {
                            return;
                        }

                        console.log('[Users] –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', userId);
                        
                        e.target.disabled = true;
                        e.target.textContent = '–£–¥–∞–ª—è—é...';

                        const result = await deleteUser(userId);
                        
                        if (result.success) {
                            console.log('[Users] ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω');
                            e.target.closest('.bg-gray-800').remove();
                            alert('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω');
                        } else {
                            console.error('[Users] ‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è:', result.error);
                            alert('‚ùå –û—à–∏–±–∫–∞: ' + result.error);
                            e.target.textContent = 'üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
                            e.target.disabled = false;
                        }
                    });
                });
            }

            // –ü–æ–∏—Å–∫
            document.getElementById('search-input').addEventListener('input', (e) => {
                const searchText = e.target.value.toLowerCase();
                const filtered = Object.fromEntries(
                    Object.entries(allUsers).filter(([userId, user]) => {
                        return (user.displayName?.toLowerCase().includes(searchText) || 
                                user.email?.toLowerCase().includes(searchText) ||
                                userId.toLowerCase().includes(searchText));
                    })
                );
                renderUsers(filtered);
            });

            // –í—ã—Ö–æ–¥
            document.getElementById('logout-btn').addEventListener('click', async () => {
                const result = await logoutUser();
                if (result.success) {
                    console.log('[Users] –£—Å–ø–µ—à–Ω—ã–π –≤—ã—Ö–æ–¥');
                    window.location.href = 'login.html';
                }
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
            let currentModalUserId = null;
            
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('change-password-btn')) {
                    currentModalUserId = e.target.getAttribute('data-user-id');
                    const userName = e.target.getAttribute('data-user-name');
                    const userEmail = e.target.getAttribute('data-user-email');
                    
                    document.getElementById('modal-user-name').textContent = userName;
                    document.getElementById('modal-user-email').textContent = userEmail;
                    document.getElementById('modal-error').classList.add('hidden');
                    document.getElementById('modal-password-form').reset();
                    document.getElementById('password-modal').classList.remove('hidden');
                }
            });

            // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('modal-cancel-btn').addEventListener('click', () => {
                document.getElementById('password-modal').classList.add('hidden');
                currentModalUserId = null;
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
            document.getElementById('modal-password-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const newPassword = document.getElementById('modal-new-password').value;
                const confirmPassword = document.getElementById('modal-confirm-password').value;
                const errorDiv = document.getElementById('modal-error');

                if (newPassword !== confirmPassword) {
                    errorDiv.textContent = '‚ùå –ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                    errorDiv.classList.remove('hidden');
                    return;
                }

                if (newPassword.length < 6) {
                    errorDiv.textContent = '‚ùå –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤';
                    errorDiv.classList.remove('hidden');
                    return;
                }

                try {
                    console.log('[ChangePassword] –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è:', currentModalUserId);
                    
                    const { updateUserPassword } = await import('./admin.js');
                    const result = await updateUserPassword(currentModalUserId, newPassword);
                    
                    if (!result.success) {
                        errorDiv.innerHTML = `
                            <div class="font-semibold mb-2">‚ö†Ô∏è Firebase –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:</div>
                            <p class="text-xs mb-2">–ú–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Admin SDK –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</p>
                            <div class="text-xs bg-gray-900 p-2 rounded mt-2 mb-2">
                                <strong>–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:</strong><br>
                                1. Firebase Console ‚Üí Authentication<br>
                                2. –ù–∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è<br>
                                3. –ù–∞–∂–º–∏ "..." ‚Üí "–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–æ–ª—å"<br>
                                4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–æ–≤—ã–π –ø—Ä–∏ –≤—Ö–æ–¥–µ
                            </div>
                        `;
                        errorDiv.classList.remove('hidden');
                        return;
                    }

                    alert('‚úÖ –ü–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                    document.getElementById('password-modal').classList.add('hidden');
                    currentModalUserId = null;
                } catch (error) {
                    console.error('[ChangePassword] –û—à–∏–±–∫–∞:', error);
                    errorDiv.textContent = '‚ùå –û—à–∏–±–∫–∞: ' + error.message;
                    errorDiv.classList.remove('hidden');
                }
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏
            document.addEventListener('click', (e) => {
                const avatarEl = e.target.closest && e.target.closest('.user-avatar');
                if (avatarEl) {
                    const avatar = avatarEl.getAttribute('data-avatar');
                    if (avatar && avatar.indexOf('data:image') === 0) {
                        document.getElementById('avatar-modal-img').src = avatar;
                        document.getElementById('avatar-modal').classList.remove('hidden');
                    }
                }
            });

            document.getElementById('avatar-modal-close').addEventListener('click', () => {
                document.getElementById('avatar-modal').classList.add('hidden');
                document.getElementById('avatar-modal-img').src = '';
            });

            document.getElementById('avatar-modal').addEventListener('click', (e) => {
                if (e.target.id === 'avatar-modal') {
                    document.getElementById('avatar-modal').classList.add('hidden');
                    document.getElementById('avatar-modal-img').src = '';
                }
            });

            console.log('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≥–æ—Ç–æ–≤–∞');
        } catch (error) {
            console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
            alert('–û—à–∏–±–∫–∞: ' + error.message);
        }
    </script>
</body>
</html>
